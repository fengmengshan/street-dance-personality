<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡—èˆäººæ ¼æµ‹è¯„ç³»ç»Ÿ - å®Œæ•´ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { 
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%); 
            font-family: 'Inter', system-ui, sans-serif;
        }
        .card { 
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%); 
            backdrop-filter: blur(10px);
        }
        .glow-text {
            background: linear-gradient(45deg, #8B5CF6, #EC4899, #06B6D4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .btn-primary {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
        }
        .hidden { display: none; }
        .progress-bar {
            background: linear-gradient(90deg, #8B5CF6, #EC4899);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- é¦–é¡µ -->
    <div id="homePage" class="container mx-auto px-4 py-8">
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold mb-4 glow-text">ğŸ­ è¡—èˆäººæ ¼æµ‹è¯„ç³»ç»Ÿ</h1>
            <p class="text-xl text-gray-300">å‘ç°ä½ çš„è¡—èˆçµé­‚</p>
        </div>

        <div class="max-w-4xl mx-auto">
            <div class="card rounded-2xl p-8 mb-8 border border-purple-500/20">
                <h2 class="text-3xl font-bold mb-6 text-center">å¼€å§‹ä½ çš„è¡—èˆäººæ ¼æ¢ç´¢ä¹‹æ—…</h2>
                <p class="text-gray-300 mb-8 text-center text-lg">
                    é€šè¿‡62é“ä¸“ä¸šé¢˜ç›®ï¼ŒåŸºäºç§‘å­¦çš„å¿ƒç†å­¦ç†è®ºï¼Œå‘ç°ä½ ç‹¬ç‰¹çš„è¡—èˆäººæ ¼ç±»å‹
                </p>
                
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-purple-500/10 border border-purple-500/30 rounded-lg p-6 text-center">
                        <div class="text-3xl mb-2">ğŸ§ </div>
                        <h3 class="font-bold mb-2 text-purple-300">ç§‘å­¦æµ‹è¯„</h3>
                        <p class="text-sm text-gray-300">åŸºäºå¤§äº”äººæ ¼ç†è®ºçš„ä¸“ä¸šåˆ†æ</p>
                    </div>
                    
                    <div class="bg-pink-500/10 border border-pink-500/30 rounded-lg p-6 text-center">
                        <div class="text-3xl mb-2">ğŸ¨</div>
                        <h3 class="font-bold mb-2 text-pink-300">12ç§äººæ ¼</h3>
                        <p class="text-sm text-gray-300">ç‹¬ç‰¹çš„è¡—èˆäººæ ¼ç±»å‹å‘½å</p>
                    </div>
                    
                    <div class="bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-6 text-center">
                        <div class="text-3xl mb-2">ğŸ’¡</div>
                        <h3 class="font-bold mb-2 text-cyan-300">ä¸ªæ€§åŒ–å»ºè®®</h3>
                        <p class="text-sm text-gray-300">ä¸“å±çš„èˆç§æ¨èå’Œå‘å±•å»ºè®®</p>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="startAssessment()" class="btn-primary px-8 py-4 rounded-xl font-bold text-lg shadow-lg">
                        ğŸš€ å¼€å§‹æµ‹è¯„
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- æµ‹è¯„é¡µé¢ -->
    <div id="assessmentPage" class="hidden container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- è¿›åº¦æ¡ -->
            <div class="mb-8">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-white">æµ‹è¯„è¿›åº¦</span>
                    <span id="progressText" class="text-sm font-medium text-purple-300">0% å®Œæˆ</span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-3">
                    <div id="progressBar" class="progress-bar h-3 rounded-full" style="width: 0%"></div>
                </div>
                <div class="flex justify-between items-center mt-2 text-sm text-gray-400">
                    <span id="questionCounter">ç¬¬ 1 é¢˜ï¼Œå…± 5 é¢˜</span>
                </div>
            </div>

            <!-- é¢˜ç›®å¡ç‰‡ -->
            <div class="card rounded-2xl p-8 mb-8 border border-purple-500/20">
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <span id="questionCategory" class="text-sm font-medium text-purple-300 bg-purple-500/20 px-3 py-1 rounded-full">
                            é¢˜ç›®ç±»åˆ«
                        </span>
                        <span id="questionScenario" class="text-sm text-gray-400">
                            åœºæ™¯ç±»å‹
                        </span>
                    </div>
                    <h2 id="questionContent" class="text-xl md:text-2xl font-bold text-white leading-relaxed">
                        é¢˜ç›®å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º
                    </h2>
                </div>

                <!-- é€‰é¡¹ -->
                <div id="optionsContainer" class="space-y-3">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>

            <!-- å¯¼èˆªæŒ‰é’® -->
            <div class="flex justify-between items-center">
                <button id="prevBtn" onclick="previousQuestion()" class="bg-gray-600 hover:bg-gray-500 px-6 py-3 rounded-xl font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    â† ä¸Šä¸€é¢˜
                </button>

                <button id="nextBtn" onclick="nextQuestion()" class="btn-primary px-6 py-3 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed">
                    ä¸‹ä¸€é¢˜ â†’
                </button>

                <button id="submitBtn" onclick="submitAssessment()" class="hidden btn-primary px-6 py-3 rounded-xl font-medium">
                    æäº¤æµ‹è¯„
                </button>
            </div>

            <!-- æç¤ºä¿¡æ¯ -->
            <div id="selectHint" class="mt-4 text-center text-sm text-gray-400">
                è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹åç»§ç»­
            </div>
        </div>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div id="resultPage" class="hidden container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-white mb-4">ğŸ‰ ä½ çš„è¡—èˆäººæ ¼ç”»åƒ</h1>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <!-- äººæ ¼ç±»å‹å±•ç¤º -->
                <div class="card rounded-2xl p-8 border border-purple-500/20">
                    <div class="text-center mb-6">
                        <div id="personalityAvatar" class="w-24 h-24 mx-auto rounded-full mb-4 flex items-center justify-center text-4xl bg-purple-500/20">
                            ğŸ­
                        </div>
                        <h2 id="personalityName" class="text-2xl font-bold text-white mb-2">
                            äººæ ¼ç±»å‹åç§°
                        </h2>
                        <p id="personalityNickname" class="text-lg text-purple-300 font-medium mb-4">
                            è‹±æ–‡æ˜µç§°
                        </p>
                        <p id="personalityDescription" class="text-gray-300 leading-relaxed">
                            äººæ ¼æè¿°å°†åœ¨è¿™é‡Œæ˜¾ç¤º
                        </p>
                    </div>

                    <div class="flex justify-center space-x-8 text-center mb-6">
                        <div>
                            <div id="matchScore" class="text-2xl font-bold text-green-400">85%</div>
                            <div class="text-sm text-gray-400">åŒ¹é…åº¦</div>
                        </div>
                        <div>
                            <div id="confidenceScore" class="text-2xl font-bold text-yellow-400">78%</div>
                            <div class="text-sm text-gray-400">ç½®ä¿¡åº¦</div>
                        </div>
                    </div>

                    <!-- ç‰¹å¾å±•ç¤º -->
                    <div class="mb-6">
                        <h3 class="font-bold text-white mb-3">âœ¨ ä½ çš„ç‰¹å¾</h3>
                        <div id="characteristicsList" class="space-y-2">
                            <!-- ç‰¹å¾åˆ—è¡¨å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- æ¨èèˆç§ -->
                    <div>
                        <h3 class="font-bold text-white mb-3">ğŸµ æ¨èèˆç§</h3>
                        <div id="recommendedStyles" class="flex flex-wrap gap-2">
                            <!-- æ¨èèˆç§å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                        </div>
                    </div>
                </div>

                <!-- é›·è¾¾å›¾ -->
                <div class="card rounded-2xl p-8 border border-purple-500/20">
                    <h3 class="text-lg font-bold text-white mb-4 text-center">äººæ ¼ç»´åº¦åˆ†æ</h3>
                    <div class="h-80 flex items-center justify-center">
                        <canvas id="radarChart" width="300" height="300"></canvas>
                    </div>
                    <div id="dimensionScores" class="mt-4 space-y-2 text-sm">
                        <!-- ç»´åº¦å¾—åˆ†å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                    </div>
                </div>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="mt-12 text-center">
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="shareResult()" class="bg-green-600 hover:bg-green-500 px-6 py-3 rounded-xl font-medium transition-colors">
                        ğŸ“± åˆ†äº«ç»“æœ
                    </button>
                    <button onclick="restartAssessment()" class="bg-gray-600 hover:bg-gray-500 px-6 py-3 rounded-xl font-medium transition-colors">
                        ğŸ”„ é‡æ–°æµ‹è¯„
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç®€åŒ–çš„é¢˜ç›®æ•°æ®ï¼ˆ5é“ç¤ºä¾‹é¢˜ç›®ï¼‰
        const questions = [
            {
                id: '1',
                content: 'åœ¨Cypherä¸­ï¼Œæˆ‘æ›´å–œæ¬¢å°è¯•ä»æœªåšè¿‡çš„æ–°åŠ¨ä½œï¼Œå³ä½¿å¯èƒ½å¤±è´¥',
                category: 'CYPHER_INTERACTION',
                dimension: 'OPENNESS',
                isReverse: false,
                scenarioType: 'CYPHER'
            },
            {
                id: '2',
                content: 'æˆ‘ä¼šåˆ¶å®šè¯¦ç»†çš„ç»ƒä¹ è®¡åˆ’å¹¶ä¸¥æ ¼æ‰§è¡Œ',
                category: 'LEARNING_STYLE',
                dimension: 'CONSCIENTIOUSNESS',
                isReverse: false,
                scenarioType: 'PRACTICE'
            },
            {
                id: '3',
                content: 'åœ¨Cypherä¸­ï¼Œæˆ‘å–œæ¬¢ç¬¬ä¸€ä¸ªè¿›åœˆè·³èˆ',
                category: 'CYPHER_INTERACTION',
                dimension: 'EXTRAVERSION',
                isReverse: false,
                scenarioType: 'CYPHER'
            },
            {
                id: '4',
                content: 'åœ¨Cypherä¸­ï¼Œæˆ‘ä¼šé¼“åŠ±å’Œæ”¯æŒå…¶ä»–èˆè€…',
                category: 'CYPHER_INTERACTION',
                dimension: 'AGREEABLENESS',
                isReverse: false,
                scenarioType: 'CYPHER'
            },
            {
                id: '5',
                content: 'åœ¨é‡è¦çš„Battleå‰ï¼Œæˆ‘ä¼šæ„Ÿåˆ°éå¸¸ç´§å¼ ',
                category: 'BATTLE_PERFORMANCE',
                dimension: 'NEUROTICISM',
                isReverse: false,
                scenarioType: 'BATTLE'
            }
        ];

        // äººæ ¼ç±»å‹æ•°æ®
        const personalityTypes = [
            {
                id: 'freestyle_poet',
                name: 'å³å…´è¯—äºº',
                nickname: 'The Freestyle Poet',
                description: 'ç”¨èº«ä½“ä¹¦å†™æ— å£°çš„è¯—æ­Œï¼Œæ¯ä¸€ä¸ªåŠ¨ä½œéƒ½æ˜¯æƒ…æ„Ÿçš„è‡ªç„¶æµéœ²ã€‚ä½ çš„èˆè¹ˆå°±åƒå³å…´çš„è¯—æ­Œï¼Œå……æ»¡äº†çµæ„Ÿå’Œåˆ›é€ åŠ›ã€‚',
                characteristics: ['æå¼ºçš„å³å…´èƒ½åŠ›', 'æƒ…æ„Ÿè¡¨è¾¾ä¸°å¯Œ', 'åˆ›é€ åŠ›æ— é™', 'å–„äºæƒ…æ„Ÿå…±é¸£', 'è‡ªç”±å¥”æ”¾çš„é£æ ¼'],
                recommendedStyles: ['HIPHOP', 'HOUSE', 'KRUMP'],
                colorScheme: { primary: '#06FFA5', secondary: '#FF3366', accent: '#FFD23F' }
            }
        ];

        // å…¨å±€å˜é‡
        let currentQuestionIndex = 0;
        let answers = [];
        let personalityResult = null;

        // æå…‹ç‰¹é‡è¡¨é€‰é¡¹
        const likertOptions = [
            { value: 1, label: 'éå¸¸ä¸åŒæ„', color: 'bg-red-500' },
            { value: 2, label: 'ä¸åŒæ„', color: 'bg-orange-500' },
            { value: 3, label: 'ä¸­ç«‹', color: 'bg-yellow-500' },
            { value: 4, label: 'åŒæ„', color: 'bg-green-500' },
            { value: 5, label: 'éå¸¸åŒæ„', color: 'bg-emerald-500' }
        ];

        // å¼€å§‹æµ‹è¯„
        function startAssessment() {
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('assessmentPage').classList.remove('hidden');
            currentQuestionIndex = 0;
            answers = [];
            showQuestion();
        }

        // æ˜¾ç¤ºå½“å‰é¢˜ç›®
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            
            // æ›´æ–°è¿›åº¦
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '% å®Œæˆ';
            document.getElementById('questionCounter').textContent = `ç¬¬ ${currentQuestionIndex + 1} é¢˜ï¼Œå…± ${questions.length} é¢˜`;
            
            // æ›´æ–°é¢˜ç›®å†…å®¹
            document.getElementById('questionCategory').textContent = question.category.replace('_', ' ');
            document.getElementById('questionScenario').textContent = question.scenarioType;
            document.getElementById('questionContent').textContent = question.content;
            
            // ç”Ÿæˆé€‰é¡¹
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            likertOptions.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option-button w-full p-4 rounded-xl border-2 border-gray-600 hover:border-purple-500 text-left cursor-pointer transition-all duration-200';
                optionDiv.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <div class="w-4 h-4 rounded-full ${option.color}"></div>
                        <span class="font-medium">${option.label}</span>
                    </div>
                `;
                optionDiv.onclick = () => selectOption(option.value, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            updateButtons();
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(score, element) {
            // æ¸…é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.option-button').forEach(btn => {
                btn.classList.remove('border-purple-500', 'bg-purple-500/20');
                btn.classList.add('border-gray-600');
            });
            
            // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            element.classList.remove('border-gray-600');
            element.classList.add('border-purple-500', 'bg-purple-500/20');
            
            // ä¿å­˜ç­”æ¡ˆ
            const questionId = questions[currentQuestionIndex].id;
            const existingIndex = answers.findIndex(a => a.questionId === questionId);
            
            if (existingIndex >= 0) {
                answers[existingIndex].score = score;
            } else {
                answers.push({ questionId, score });
            }
            
            updateButtons();
        }

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            const selectHint = document.getElementById('selectHint');
            
            // ä¸Šä¸€é¢˜æŒ‰é’®
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // æ£€æŸ¥å½“å‰é¢˜ç›®æ˜¯å¦å·²å›ç­”
            const currentAnswer = answers.find(a => a.questionId === questions[currentQuestionIndex].id);
            const hasAnswer = currentAnswer !== undefined;
            
            // æ˜¾ç¤º/éšè—æç¤º
            selectHint.classList.toggle('hidden', hasAnswer);
            
            // æœ€åä¸€é¢˜æ˜¾ç¤ºæäº¤æŒ‰é’®
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
                submitBtn.disabled = !hasAnswer;
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
                nextBtn.disabled = !hasAnswer;
            }
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            }
        }

        // ä¸Šä¸€é¢˜
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        // æäº¤æµ‹è¯„
        function submitAssessment() {
            if (answers.length !== questions.length) {
                alert('è¯·å®Œæˆæ‰€æœ‰é¢˜ç›®åå†æäº¤');
                return;
            }
            
            // ç®€å•çš„åˆ†æç®—æ³•
            const scores = analyzeAnswers();
            personalityResult = {
                personalityType: personalityTypes[0], // ç®€åŒ–ï¼šç›´æ¥ä½¿ç”¨ç¬¬ä¸€ä¸ªç±»å‹
                dimensionScores: scores,
                matchScore: 85,
                confidence: 78
            };
            
            showResult();
        }

        // åˆ†æç­”æ¡ˆ
        function analyzeAnswers() {
            // ç®€åŒ–çš„åˆ†æç®—æ³•
            const dimensions = {
                openness: 0,
                conscientiousness: 0,
                extraversion: 0,
                agreeableness: 0,
                neuroticism: 0
            };
            
            const counts = {
                openness: 0,
                conscientiousness: 0,
                extraversion: 0,
                agreeableness: 0,
                neuroticism: 0
            };
            
            answers.forEach(answer => {
                const question = questions.find(q => q.id === answer.questionId);
                if (question) {
                    let score = answer.score;
                    if (question.isReverse) {
                        score = 6 - score;
                    }
                    
                    const dim = question.dimension.toLowerCase();
                    if (dimensions.hasOwnProperty(dim)) {
                        dimensions[dim] += score;
                        counts[dim]++;
                    }
                }
            });
            
            // è®¡ç®—å¹³å‡åˆ†å¹¶æ ‡å‡†åŒ–åˆ°0-100
            Object.keys(dimensions).forEach(key => {
                if (counts[key] > 0) {
                    dimensions[key] = Math.round(((dimensions[key] / counts[key] - 1) / 4) * 100);
                } else {
                    dimensions[key] = 50; // é»˜è®¤å€¼
                }
            });
            
            return dimensions;
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            document.getElementById('assessmentPage').classList.add('hidden');
            document.getElementById('resultPage').classList.remove('hidden');
            
            const result = personalityResult;
            
            // æ›´æ–°äººæ ¼ç±»å‹ä¿¡æ¯
            document.getElementById('personalityName').textContent = result.personalityType.name;
            document.getElementById('personalityNickname').textContent = result.personalityType.nickname;
            document.getElementById('personalityDescription').textContent = result.personalityType.description;
            document.getElementById('matchScore').textContent = result.matchScore + '%';
            document.getElementById('confidenceScore').textContent = result.confidence + '%';
            
            // æ›´æ–°ç‰¹å¾åˆ—è¡¨
            const characteristicsList = document.getElementById('characteristicsList');
            characteristicsList.innerHTML = '';
            result.personalityType.characteristics.forEach(char => {
                const li = document.createElement('div');
                li.className = 'text-sm text-gray-300 flex items-start';
                li.innerHTML = `<span class="text-purple-400 mr-2">â€¢</span>${char}`;
                characteristicsList.appendChild(li);
            });
            
            // æ›´æ–°æ¨èèˆç§
            const recommendedStyles = document.getElementById('recommendedStyles');
            recommendedStyles.innerHTML = '';
            result.personalityType.recommendedStyles.forEach(style => {
                const span = document.createElement('span');
                span.className = 'px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm';
                span.textContent = style;
                recommendedStyles.appendChild(span);
            });
            
            // æ›´æ–°ç»´åº¦å¾—åˆ†
            const dimensionScores = document.getElementById('dimensionScores');
            dimensionScores.innerHTML = '';
            const dimensionLabels = {
                openness: 'å¼€æ”¾æ€§',
                conscientiousness: 'å°½è´£æ€§',
                extraversion: 'å¤–å‘æ€§',
                agreeableness: 'å®œäººæ€§',
                neuroticism: 'ç¥ç»è´¨'
            };
            
            Object.entries(result.dimensionScores).forEach(([key, value]) => {
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center';
                div.innerHTML = `
                    <span class="text-gray-300">${dimensionLabels[key]}</span>
                    <span class="font-semibold text-white">${value}åˆ†</span>
                `;
                dimensionScores.appendChild(div);
            });
            
            // ç»˜åˆ¶é›·è¾¾å›¾
            drawRadarChart(result.dimensionScores);
        }

        // ç»˜åˆ¶é›·è¾¾å›¾
        function drawRadarChart(scores) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['å¼€æ”¾æ€§', 'å°½è´£æ€§', 'å¤–å‘æ€§', 'å®œäººæ€§', 'ç¥ç»è´¨'],
                    datasets: [{
                        label: 'äººæ ¼ç»´åº¦å¾—åˆ†',
                        data: [scores.openness, scores.conscientiousness, scores.extraversion, scores.agreeableness, scores.neuroticism],
                        backgroundColor: 'rgba(139, 92, 246, 0.2)',
                        borderColor: '#8B5CF6',
                        borderWidth: 3,
                        pointBackgroundColor: '#8B5CF6',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            min: 0,
                            ticks: {
                                stepSize: 20,
                                color: '#F5F5F5',
                                backdropColor: 'transparent'
                            },
                            grid: { color: '#404040' },
                            angleLines: { color: '#404040' },
                            pointLabels: {
                                color: '#F5F5F5',
                                font: { size: 14, weight: 'bold' }
                            }
                        }
                    }
                }
            });
        }

        // åˆ†äº«ç»“æœ
        function shareResult() {
            const result = personalityResult;
            const shareText = `ğŸ­ æˆ‘çš„è¡—èˆäººæ ¼ç±»å‹æ˜¯ï¼š${result.personalityType.name}ï¼\n\n${result.personalityType.description}\n\nå¿«æ¥æµ‹æµ‹ä½ çš„è¡—èˆäººæ ¼ï¼š${window.location.href}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'æˆ‘çš„è¡—èˆäººæ ¼æµ‹è¯„ç»“æœ',
                    text: shareText
                });
            } else {
                // å¤åˆ¶åˆ°å‰ªè´´æ¿
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('åˆ†äº«å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                });
            }
        }

        // é‡æ–°å¼€å§‹æµ‹è¯„
        function restartAssessment() {
            document.getElementById('resultPage').classList.add('hidden');
            document.getElementById('homePage').classList.remove('hidden');
            currentQuestionIndex = 0;
            answers = [];
            personalityResult = null;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('è¡—èˆäººæ ¼æµ‹è¯„ç³»ç»Ÿå·²åŠ è½½å®Œæˆï¼');
        });
    </script>
</body>
</html>