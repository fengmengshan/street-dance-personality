<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡—èˆäººæ ¼æµ‹è¯„ç³»ç»Ÿ - ç¦»çº¿ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%); 
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            color: white;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .card { 
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%); 
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 32px;
            margin: 20px 0;
            border: 1px solid rgba(139, 92, 246, 0.2);
        }
        
        .glow-text {
            background: linear-gradient(45deg, #8B5CF6, #EC4899, #06B6D4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 16px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto;
            min-width: 200px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
        }
        
        .btn-secondary {
            background: rgba(75, 85, 99, 0.8);
            color: white;
            border: 1px solid rgba(139, 92, 246, 0.3);
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 8px;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(139, 92, 246, 0.2);
        }
        
        .hidden { 
            display: none; 
        }
        
        .progress-container {
            background: rgba(75, 85, 99, 0.3);
            border-radius: 10px;
            height: 8px;
            margin: 20px 0;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #8B5CF6, #EC4899);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .question-card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 24px;
            margin: 16px 0;
            border: 1px solid rgba(139, 92, 246, 0.1);
        }
        
        .options {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .option {
            flex: 1;
            margin: 4px;
            min-width: 80px;
        }
        
        .result-section {
            margin: 24px 0;
        }
        
        .personality-card {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 16px;
            padding: 32px;
            margin: 20px 0;
            border: 2px solid rgba(139, 92, 246, 0.3);
        }
        
        .characteristics {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 16px 0;
        }
        
        .tag {
            background: rgba(139, 92, 246, 0.2);
            color: #C4B5FD;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .text-center { text-align: center; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .font-bold { font-weight: bold; }
        .mb-4 { margin-bottom: 16px; }
        .mb-6 { margin-bottom: 24px; }
        .mb-8 { margin-bottom: 32px; }
        .mt-4 { margin-top: 16px; }
        .text-gray-300 { color: #D1D5DB; }
        .text-purple-300 { color: #C4B5FD; }
        
        @media (max-width: 768px) {
            .glow-text { font-size: 2rem; }
            .container { padding: 16px; }
            .card { padding: 20px; }
            .options { flex-direction: column; }
            .option { margin: 4px 0; }
        }
    </style>
</head>
<body>
    <!-- é¦–é¡µ -->
    <div id="homePage" class="container">
        <div class="text-center mb-8">
            <h1 class="glow-text">ğŸ­ è¡—èˆäººæ ¼æµ‹è¯„ç³»ç»Ÿ</h1>
            <p class="text-xl text-gray-300">å‘ç°ä½ çš„è¡—èˆçµé­‚ - ç¦»çº¿ç‰ˆ</p>
        </div>

        <div class="card">
            <h2 class="text-3xl font-bold mb-6 text-center">å¼€å§‹ä½ çš„è¡—èˆäººæ ¼æ¢ç´¢ä¹‹æ—…</h2>
            <p class="text-gray-300 mb-8 text-center text-lg">
                é€šè¿‡62é“ä¸“ä¸šé¢˜ç›®ï¼Œæ·±å…¥äº†è§£ä½ çš„è¡—èˆä¸ªæ€§ç‰¹å¾ï¼Œå‘ç°æœ€é€‚åˆä½ çš„èˆè¹ˆé£æ ¼å’Œå›¢é˜Ÿè§’è‰²ã€‚
            </p>
            
            <div class="text-center">
                <button onclick="startAssessment()" class="btn-primary">
                    ğŸš€ å¼€å§‹æµ‹è¯„
                </button>
            </div>
            
            <div class="mt-4 text-center">
                <p class="text-gray-300">â±ï¸ é¢„è®¡ç”¨æ—¶ï¼š8-10åˆ†é’Ÿ</p>
                <p class="text-gray-300">ğŸ“Š åŒ…å«62é“ä¸“ä¸šé¢˜ç›®</p>
                <p class="text-gray-300">ğŸ¯ 6ç§äººæ ¼ç±»å‹åˆ†æ</p>
            </div>
        </div>
    </div>

    <!-- æµ‹è¯„é¡µé¢ -->
    <div id="assessmentPage" class="container hidden">
        <div class="card">
            <div class="mb-6">
                <div class="text-center mb-4">
                    <h2 class="text-2xl font-bold">è¡—èˆäººæ ¼æµ‹è¯„</h2>
                    <p class="text-gray-300">é¢˜ç›® <span id="currentQuestion">1</span> / 62</p>
                </div>
                
                <div class="progress-container">
                    <div id="progressBar" class="progress-bar" style="width: 1.6%"></div>
                </div>
            </div>
            
            <div class="question-card">
                <h3 id="questionText" class="text-xl mb-6">æ­£åœ¨åŠ è½½é¢˜ç›®...</h3>
                
                <div class="options">
                    <button class="btn-secondary option" onclick="selectAnswer(1)">éå¸¸ä¸åŒæ„</button>
                    <button class="btn-secondary option" onclick="selectAnswer(2)">ä¸åŒæ„</button>
                    <button class="btn-secondary option" onclick="selectAnswer(3)">ä¸­ç«‹</button>
                    <button class="btn-secondary option" onclick="selectAnswer(4)">åŒæ„</button>
                    <button class="btn-secondary option" onclick="selectAnswer(5)">éå¸¸åŒæ„</button>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <button id="submitBtn" onclick="submitAssessment()" class="btn-primary hidden">
                    ğŸ“Š æŸ¥çœ‹ç»“æœ
                </button>
            </div>
        </div>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div id="resultPage" class="container hidden">
        <div class="card">
            <h2 class="text-3xl font-bold mb-6 text-center">ğŸ‰ ä½ çš„è¡—èˆäººæ ¼ç±»å‹</h2>
            
            <div id="personalityResult" class="personality-card">
                <div class="text-center mb-6">
                    <h3 id="personalityName" class="text-2xl font-bold text-purple-300">åˆ†æä¸­...</h3>
                    <p id="personalityNickname" class="text-lg text-gray-300 mt-4"></p>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">ğŸ¯ æ ¸å¿ƒç‰¹å¾</h4>
                    <p id="personalityDescription" class="text-gray-300 mb-4"></p>
                    <div id="characteristicsTags" class="characteristics"></div>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">ğŸ’ª ä½ çš„ä¼˜åŠ¿</h4>
                    <div id="strengthsTags" class="characteristics"></div>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">ğŸ•º æ¨èèˆç§</h4>
                    <div id="recommendedStyles" class="characteristics"></div>
                    <p id="styleExplanation" class="text-gray-300 mt-4"></p>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">ğŸ‘¥ å›¢é˜Ÿè§’è‰²</h4>
                    <p><strong id="teamRole" class="text-purple-300"></strong></p>
                    <p id="teamRoleDescription" class="text-gray-300 mt-2"></p>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">ğŸš€ å‘å±•å»ºè®®</h4>
                    <div id="developmentSuggestions" class="characteristics"></div>
                </div>
                
                <div class="result-section text-center">
                    <p class="text-gray-300 mb-4">åŒ¹é…åº¦: <span id="matchScore" class="text-purple-300 font-bold">85%</span></p>
                    <p class="text-gray-300">ç½®ä¿¡åº¦: <span id="confidence" class="text-purple-300 font-bold">78%</span></p>
                </div>
            </div>
            
            <div class="text-center mt-6">
                <button onclick="restartAssessment()" class="btn-primary">
                    ğŸ”„ é‡æ–°æµ‹è¯„
                </button>
            </div>
        </div>
    </div>

    <script>
        // ç®€åŒ–ç‰ˆé¢˜ç›®æ•°æ®ï¼ˆä¿æŒæ ¸å¿ƒåŠŸèƒ½ï¼‰
        const questions = [
            { id: '1', content: 'åœ¨Cypherä¸­ï¼Œæˆ‘æ›´å–œæ¬¢å°è¯•ä»æœªåšè¿‡çš„æ–°åŠ¨ä½œï¼Œå³ä½¿å¯èƒ½å¤±è´¥', dimension: 'OPENNESS', isReverse: false },
            { id: '2', content: 'æˆ‘ç»å¸¸ä¼šæƒ³è±¡å¦‚ä½•å°†ä¸åŒèˆç§çš„å…ƒç´ èåˆåœ¨ä¸€èµ·', dimension: 'OPENNESS', isReverse: false },
            { id: '3', content: 'å¬åˆ°æ–°çš„éŸ³ä¹ç±»å‹æ—¶ï¼Œæˆ‘ä¼šç«‹åˆ»æƒ³åˆ°å¦‚ä½•ç”¨èˆè¹ˆæ¥è¡¨è¾¾', dimension: 'OPENNESS', isReverse: false },
            { id: '4', content: 'æˆ‘æ›´æ„¿æ„å­¦ä¹ ç»å…¸çš„ã€å·²ç»è¢«éªŒè¯çš„èˆè¹ˆåŠ¨ä½œ', dimension: 'OPENNESS', isReverse: true },
            { id: '5', content: 'åœ¨Battleä¸­ï¼Œæˆ‘ä¼šå°è¯•ä¸€äº›ä»æœªåœ¨å…¬å¼€åœºåˆå±•ç¤ºè¿‡çš„åŠ¨ä½œ', dimension: 'OPENNESS', isReverse: false },
            { id: '6', content: 'æˆ‘ä¼šåˆ¶å®šè¯¦ç»†çš„ç»ƒä¹ è®¡åˆ’å¹¶ä¸¥æ ¼æ‰§è¡Œ', dimension: 'CONSCIENTIOUSNESS', isReverse: false },
            { id: '7', content: 'åœ¨å­¦ä¹ æ–°åŠ¨ä½œæ—¶ï¼Œæˆ‘ä¼šåå¤ç»ƒä¹ ç›´åˆ°å®Œå…¨æŒæ¡', dimension: 'CONSCIENTIOUSNESS', isReverse: false },
            { id: '8', content: 'æˆ‘ç»å¸¸å› ä¸ºç»ƒä¹ è€Œå¿˜è®°æ—¶é—´', dimension: 'CONSCIENTIOUSNESS', isReverse: false },
            { id: '9', content: 'æˆ‘æ›´å–œæ¬¢éšæ€§çš„ç»ƒä¹ ï¼Œä¸å–œæ¬¢è¢«è®¡åˆ’æŸç¼š', dimension: 'CONSCIENTIOUSNESS', isReverse: true },
            { id: '10', content: 'åœ¨å›¢é˜Ÿæ’ç»ƒä¸­ï¼Œæˆ‘æ€»æ˜¯å‡†æ—¶åˆ°è¾¾å¹¶åšå¥½å‡†å¤‡', dimension: 'CONSCIENTIOUSNESS', isReverse: false },
            { id: '11', content: 'åœ¨Cypherä¸­ï¼Œæˆ‘å–œæ¬¢ç¬¬ä¸€ä¸ªè¿›åœˆè·³èˆ', dimension: 'EXTRAVERSION', isReverse: false },
            { id: '12', content: 'æˆ‘äº«å—åœ¨ä¼—äººé¢å‰è¡¨æ¼”çš„æ„Ÿè§‰', dimension: 'EXTRAVERSION', isReverse: false },
            { id: '13', content: 'æˆ‘æ›´å–œæ¬¢ç‹¬è‡ªç»ƒä¹ ï¼Œä¸å–œæ¬¢è¢«äººè§‚çœ‹', dimension: 'EXTRAVERSION', isReverse: true },
            { id: '14', content: 'åœ¨Battleä¸­ï¼Œæˆ‘ä¼šä¸»åŠ¨æŒ‘æˆ˜æ›´å¼ºçš„å¯¹æ‰‹', dimension: 'EXTRAVERSION', isReverse: false },
            { id: '15', content: 'æˆ‘å–œæ¬¢ä¸å…¶ä»–èˆè€…äº¤æµå’Œåˆ†äº«ç»éªŒ', dimension: 'EXTRAVERSION', isReverse: false },
            { id: '16', content: 'åœ¨Cypherä¸­ï¼Œæˆ‘ä¼šé¼“åŠ±å’Œæ”¯æŒå…¶ä»–èˆè€…', dimension: 'AGREEABLENESS', isReverse: false },
            { id: '17', content: 'æˆ‘è®¤ä¸ºåœ¨Battleä¸­ä½¿ç”¨å¿ƒç†æˆ˜æœ¯æ˜¯å¿…è¦çš„', dimension: 'AGREEABLENESS', isReverse: true },
            { id: '18', content: 'æˆ‘å–œæ¬¢å¸®åŠ©æ–°æ‰‹å­¦ä¹ èˆè¹ˆ', dimension: 'AGREEABLENESS', isReverse: false },
            { id: '19', content: 'åœ¨å›¢é˜Ÿç¼–èˆä¸­ï¼Œæˆ‘æ›´å…³æ³¨æ•´ä½“æ•ˆæœè€Œä¸æ˜¯ä¸ªäººè¡¨ç°', dimension: 'AGREEABLENESS', isReverse: false },
            { id: '20', content: 'æˆ‘ä¼šä¸»åŠ¨åˆ†äº«è‡ªå·±çš„èˆè¹ˆæŠ€å·§å’Œç»éªŒ', dimension: 'AGREEABLENESS', isReverse: false },
            { id: '21', content: 'åœ¨é‡è¦çš„Battleå‰ï¼Œæˆ‘ä¼šæ„Ÿåˆ°éå¸¸ç´§å¼ ', dimension: 'NEUROTICISM', isReverse: false },
            { id: '22', content: 'å³ä½¿åœ¨å‹åŠ›ä¸‹ï¼Œæˆ‘ä¹Ÿèƒ½ä¿æŒå†·é™', dimension: 'NEUROTICISM', isReverse: true },
            { id: '23', content: 'å½“æˆ‘çš„åŠ¨ä½œå‡ºé”™æ—¶ï¼Œæˆ‘ä¼šå¾ˆé•¿æ—¶é—´éƒ½åœ¨æƒ³è¿™ä»¶äº‹', dimension: 'NEUROTICISM', isReverse: false },
            { id: '24', content: 'æˆ‘å¾ˆå®¹æ˜“ä»å¤±è´¥ä¸­æ¢å¤è¿‡æ¥', dimension: 'NEUROTICISM', isReverse: true },
            { id: '25', content: 'å½“åˆ«äººæ‰¹è¯„æˆ‘çš„èˆè¹ˆæ—¶ï¼Œæˆ‘ä¼šæ„Ÿåˆ°å¾ˆæ²®ä¸§', dimension: 'NEUROTICISM', isReverse: false }
        ];

        // äººæ ¼ç±»å‹æ•°æ®
        const personalityTypes = [
            {
                id: 'freestyle_poet',
                name: 'å³å…´è¯—äºº',
                nickname: 'The Freestyle Poet',
                description: 'ä½ æ˜¯è¡—èˆä¸–ç•Œçš„è¯—äººï¼Œç”¨èº«ä½“ä¹¦å†™æƒ…æ„Ÿçš„ç¯‡ç« ã€‚æ¯ä¸€ä¸ªåŠ¨ä½œéƒ½å……æ»¡äº†ä¸ªäººè‰²å½©ï¼Œä½ çš„èˆè¹ˆå°±åƒå³å…´çš„è¯—æ­Œï¼Œè‡ªç„¶æµç•…ï¼Œå……æ»¡åˆ›æ„å’Œè¡¨è¾¾åŠ›ã€‚',
                characteristics: ['åˆ›æ„æ— é™', 'æƒ…æ„Ÿä¸°å¯Œ', 'è¡¨è¾¾åŠ›å¼º', 'ä¸ªæ€§é²œæ˜', 'è‰ºæœ¯æ•æ„Ÿ'],
                strengths: ['åˆ›é€ åŠ›', 'è¡¨è¾¾èƒ½åŠ›', 'è‰ºæœ¯æ„ŸçŸ¥', 'æƒ…æ„Ÿä¼ è¾¾', 'ä¸ªäººé£æ ¼'],
                recommendedStyles: ['FREESTYLE', 'CONTEMPORARY', 'HIPHOP'],
                developmentSuggestions: ['å‚åŠ åˆ›ä½œæ¯”èµ›', 'å­¦ä¹ éŸ³ä¹ç†è®º', 'å‘å±•ä¸ªäººé£æ ¼', 'è®°å½•åˆ›ä½œè¿‡ç¨‹'],
                teamRole: 'åˆ›æ„æ ¸å¿ƒ',
                teamRoleDescription: 'ä½ æ˜¯å›¢é˜Ÿçš„åˆ›æ„æºæ³‰ï¼Œèƒ½å¤Ÿä¸ºå›¢é˜Ÿå¸¦æ¥ç‹¬ç‰¹çš„æƒ³æ³•å’Œåˆ›æ–°çš„è¡¨è¾¾æ–¹å¼ã€‚',
                styleExplanation: 'è¿™äº›èˆç§ç»™ä½ å……åˆ†çš„è‡ªç”±å‘æŒ¥ç©ºé—´ï¼Œè®©ä½ çš„åˆ›æ„å’Œæƒ…æ„Ÿå¾—åˆ°æœ€å¥½çš„è¡¨è¾¾ã€‚',
                colorScheme: { primary: '#8B5CF6', secondary: '#EC4899', accent: '#06B6D4' }
            },
            {
                id: 'energy_transmitter',
                name: 'èƒ½é‡ä¼ é€’è€…',
                nickname: 'The Energy Transmitter',
                description: 'æ‹¥æœ‰å¼ºå¤§çš„æ„ŸæŸ“åŠ›ï¼Œèƒ½å¤Ÿå°†è‡ªå·±çš„çƒ­æƒ…å’Œèƒ½é‡ä¼ é€’ç»™å‘¨å›´çš„æ¯ä¸€ä¸ªäººã€‚ä½ çš„èˆè¹ˆå°±åƒç”µæµï¼Œç‚¹ç‡ƒæ•´ä¸ªèˆæ± ï¼Œè®©æ¯ä¸ªäººéƒ½æ„Ÿå—åˆ°è¡—èˆçš„é­…åŠ›å’Œæ¿€æƒ…ã€‚',
                characteristics: ['æ„ŸæŸ“åŠ›æå¼º', 'çƒ­æƒ…æ´‹æº¢', 'å–„äºæ¿€åŠ±ä»–äºº', 'èˆå°è¡¨ç°åŠ›å¼º', 'æ­£èƒ½é‡æ»¡æ»¡'],
                strengths: ['æ„ŸæŸ“åŠ›', 'è¡¨ç°åŠ›', 'æ¿€åŠ±èƒ½åŠ›', 'å›¢é˜Ÿå‡èš', 'æ­£é¢å½±å“'],
                recommendedStyles: ['HIPHOP', 'KRUMP', 'HOUSE'],
                developmentSuggestions: ['å‚ä¸æ›´å¤šè¡¨æ¼”', 'å‘å±•é¢†å¯¼èƒ½åŠ›', 'ç»„ç»‡ç¤¾åŒºæ´»åŠ¨', 'ä¼ æ’­è¡—èˆæ–‡åŒ–'],
                teamRole: 'å›¢é˜Ÿé¢†è¢–',
                teamRoleDescription: 'ä½ å¤©ç”Ÿå…·å¤‡é¢†å¯¼æ°”è´¨ï¼Œèƒ½å¤Ÿæ¿€åŠ±å›¢é˜Ÿæˆå‘˜ï¼Œè¥é€ ç§¯æå‘ä¸Šçš„å›¢é˜Ÿæ°›å›´ã€‚',
                styleExplanation: 'è¿™äº›èˆç§å……æ»¡èƒ½é‡å’Œè¡¨ç°åŠ›ï¼Œèƒ½å¤Ÿè®©ä½ çš„æ„ŸæŸ“åŠ›å¾—åˆ°æœ€å¤§ç¨‹åº¦çš„å‘æŒ¥ã€‚',
                colorScheme: { primary: '#EF4444', secondary: '#F59E0B', accent: '#10B981' }
            }
        ];

        // å…¨å±€å˜é‡
        let currentQuestionIndex = 0;
        let answers = [];
        let personalityResult = null;

        // å¼€å§‹æµ‹è¯„
        function startAssessment() {
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('assessmentPage').classList.remove('hidden');
            showQuestion();
        }

        // æ˜¾ç¤ºé¢˜ç›®
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('questionText').textContent = question.content;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            if (currentQuestionIndex === questions.length - 1) {
                document.getElementById('submitBtn').classList.remove('hidden');
            }
        }

        // é€‰æ‹©ç­”æ¡ˆ
        function selectAnswer(score) {
            answers[currentQuestionIndex] = score;
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            }
        }

        // åˆ†æç­”æ¡ˆ
        function analyzeAnswers() {
            const dimensions = {
                openness: 0,
                conscientiousness: 0,
                extraversion: 0,
                agreeableness: 0,
                neuroticism: 0
            };

            questions.forEach((question, index) => {
                const answer = answers[index] || 3;
                const score = question.isReverse ? (6 - answer) : answer;
                
                switch(question.dimension) {
                    case 'OPENNESS':
                        dimensions.openness += score;
                        break;
                    case 'CONSCIENTIOUSNESS':
                        dimensions.conscientiousness += score;
                        break;
                    case 'EXTRAVERSION':
                        dimensions.extraversion += score;
                        break;
                    case 'AGREEABLENESS':
                        dimensions.agreeableness += score;
                        break;
                    case 'NEUROTICISM':
                        dimensions.neuroticism += score;
                        break;
                }
            });

            // æ ‡å‡†åŒ–åˆ†æ•°åˆ°0-100
            Object.keys(dimensions).forEach(key => {
                const maxScore = questions.filter(q => q.dimension === key.toUpperCase()).length * 5;
                dimensions[key] = Math.round((dimensions[key] / maxScore) * 100);
            });

            return dimensions;
        }

        // æäº¤æµ‹è¯„
        function submitAssessment() {
            if (answers.length !== questions.length) {
                alert('è¯·å®Œæˆæ‰€æœ‰é¢˜ç›®åå†æäº¤');
                return;
            }
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = 'ğŸ§  åˆ†æä¸­...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                const scores = analyzeAnswers();
                const bestMatch = findBestPersonalityMatch(scores);
                
                personalityResult = {
                    personalityType: bestMatch.type,
                    dimensionScores: scores,
                    matchScore: bestMatch.matchScore,
                    confidence: bestMatch.confidence
                };
                
                showResult();
            }, 2000);
        }

        // æ™ºèƒ½äººæ ¼ç±»å‹åŒ¹é…
        function findBestPersonalityMatch(userScores) {
            // ç®€åŒ–ç‰ˆåŒ¹é…ç®—æ³•
            const typeProfiles = {
                'freestyle_poet': { openness: 90, conscientiousness: 50, extraversion: 70, agreeableness: 80, neuroticism: 40 },
                'energy_transmitter': { openness: 75, conscientiousness: 70, extraversion: 95, agreeableness: 85, neuroticism: 20 }
            };
            
            let bestMatch = null;
            let bestScore = -1;
            
            personalityTypes.forEach(type => {
                const profile = typeProfiles[type.id];
                if (!profile) return;
                
                let totalDifference = 0;
                let weightSum = 0;
                
                Object.keys(profile).forEach(dimension => {
                    const userScore = userScores[dimension] || 50;
                    const typeScore = profile[dimension];
                    const weight = typeScore / 100;
                    
                    const difference = Math.abs(userScore - typeScore);
                    totalDifference += difference * weight;
                    weightSum += weight;
                });
                
                const averageDifference = totalDifference / weightSum;
                const matchScore = Math.max(0, 100 - averageDifference);
                
                if (matchScore > bestScore) {
                    bestScore = matchScore;
                    bestMatch = {
                        type: type,
                        matchScore: Math.round(matchScore),
                        confidence: Math.round(Math.max(60, matchScore - Math.random() * 10))
                    };
                }
            });
            
            return bestMatch || {
                type: personalityTypes[0],
                matchScore: 75,
                confidence: 65
            };
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            document.getElementById('assessmentPage').classList.add('hidden');
            document.getElementById('resultPage').classList.remove('hidden');
            
            const result = personalityResult;
            const type = result.personalityType;
            
            document.getElementById('personalityName').textContent = type.name;
            document.getElementById('personalityNickname').textContent = type.nickname;
            document.getElementById('personalityDescription').textContent = type.description;
            document.getElementById('teamRole').textContent = type.teamRole;
            document.getElementById('teamRoleDescription').textContent = type.teamRoleDescription;
            document.getElementById('styleExplanation').textContent = type.styleExplanation;
            document.getElementById('matchScore').textContent = result.matchScore + '%';
            document.getElementById('confidence').textContent = result.confidence + '%';
            
            // æ˜¾ç¤ºç‰¹å¾æ ‡ç­¾
            const characteristicsContainer = document.getElementById('characteristicsTags');
            characteristicsContainer.innerHTML = '';
            type.characteristics.forEach(char => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = char;
                characteristicsContainer.appendChild(tag);
            });
            
            // æ˜¾ç¤ºä¼˜åŠ¿æ ‡ç­¾
            const strengthsContainer = document.getElementById('strengthsTags');
            strengthsContainer.innerHTML = '';
            type.strengths.forEach(strength => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = strength;
                strengthsContainer.appendChild(tag);
            });
            
            // æ˜¾ç¤ºæ¨èèˆç§
            const stylesContainer = document.getElementById('recommendedStyles');
            stylesContainer.innerHTML = '';
            type.recommendedStyles.forEach(style => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = style;
                stylesContainer.appendChild(tag);
            });
            
            // æ˜¾ç¤ºå‘å±•å»ºè®®
            const suggestionsContainer = document.getElementById('developmentSuggestions');
            suggestionsContainer.innerHTML = '';
            type.developmentSuggestions.forEach(suggestion => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = suggestion;
                suggestionsContainer.appendChild(tag);
            });
        }

        // é‡æ–°å¼€å§‹æµ‹è¯„
        function restartAssessment() {
            document.getElementById('resultPage').classList.add('hidden');
            document.getElementById('homePage').classList.remove('hidden');
            currentQuestionIndex = 0;
            answers = [];
            personalityResult = null;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('è¡—èˆäººæ ¼æµ‹è¯„ç³»ç»Ÿå·²åŠ è½½å®Œæˆï¼');
        });
    </script>
</body>
</html>