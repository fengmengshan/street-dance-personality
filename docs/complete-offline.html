<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>街舞人格测评系统 - 完整离线版</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%); 
            font-family: 'Microsoft YaHei', 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
            color: white;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .card { 
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%); 
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 32px;
            margin: 20px 0;
            border: 1px solid rgba(139, 92, 246, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .glow-text {
            background: linear-gradient(45deg, #8B5CF6, #EC4899, #06B6D4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 16px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto;
            min-width: 200px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
        }
        
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: rgba(75, 85, 99, 0.8);
            color: white;
            border: 1px solid rgba(139, 92, 246, 0.3);
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 8px;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 120px;
        }
        
        .btn-secondary:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.5);
        }
        
        .btn-secondary.selected {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            border-color: #EC4899;
        }
        
        .hidden { 
            display: none; 
        }
        
        .progress-container {
            background: rgba(75, 85, 99, 0.3);
            border-radius: 10px;
            height: 8px;
            margin: 20px 0;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #8B5CF6, #EC4899);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .question-card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 24px;
            margin: 16px 0;
            border: 1px solid rgba(139, 92, 246, 0.1);
        }
        
        .options {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .result-section {
            margin: 24px 0;
        }
        
        .personality-card {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 16px;
            padding: 32px;
            margin: 20px 0;
            border: 2px solid rgba(139, 92, 246, 0.3);
        }
        
        .characteristics {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 16px 0;
        }
        
        .tag {
            background: rgba(139, 92, 246, 0.2);
            color: #C4B5FD;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .radar-chart {
            width: 300px;
            height: 300px;
            margin: 20px auto;
            position: relative;
        }
        
        .text-center { text-align: center; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .font-bold { font-weight: bold; }
        .mb-4 { margin-bottom: 16px; }
        .mb-6 { margin-bottom: 24px; }
        .mb-8 { margin-bottom: 32px; }
        .mt-4 { margin-top: 16px; }
        .text-gray-300 { color: #D1D5DB; }
        .text-purple-300 { color: #C4B5FD; }
        
        @media (max-width: 768px) {
            .glow-text { font-size: 2rem; }
            .container { padding: 16px; }
            .card { padding: 20px; }
            .options { flex-direction: column; }
            .btn-secondary { margin: 4px 0; }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- 首页 -->
    <div id="homePage" class="container">
        <div class="text-center mb-8">
            <h1 class="glow-text">🎭 街舞人格测评系统</h1>
            <p class="text-xl text-gray-300">发现你的街舞灵魂 - 完整版</p>
        </div>

        <div class="card">
            <h2 class="text-3xl font-bold mb-6 text-center">开始你的街舞人格探索之旅</h2>
            <p class="text-gray-300 mb-8 text-center text-lg">
                通过62道专业题目，深入了解你的街舞个性特征，发现最适合你的舞蹈风格和团队角色。
            </p>
            
            <div class="text-center">
                <button onclick="startAssessment()" class="btn-primary">
                    🚀 开始测评
                </button>
            </div>
            
            <div class="mt-4 text-center">
                <p class="text-gray-300">⏱️ 预计用时：8-10分钟</p>
                <p class="text-gray-300">📊 包含62道专业题目</p>
                <p class="text-gray-300">🎯 6种人格类型分析</p>
                <p class="text-gray-300">🌐 完全离线运行</p>
            </div>
        </div>
    </div>

    <!-- 测评页面 -->
    <div id="assessmentPage" class="container hidden">
        <div class="card">
            <div class="mb-6">
                <div class="text-center mb-4">
                    <h2 class="text-2xl font-bold">街舞人格测评</h2>
                    <p class="text-gray-300">题目 <span id="currentQuestion">1</span> / 62</p>
                </div>
                
                <div class="progress-container">
                    <div id="progressBar" class="progress-bar" style="width: 1.6%"></div>
                </div>
            </div>
            
            <div class="question-card">
                <h3 id="questionText" class="text-xl mb-6">正在加载题目...</h3>
                
                <div class="options">
                    <button class="btn-secondary" onclick="selectAnswer(1)">非常不同意</button>
                    <button class="btn-secondary" onclick="selectAnswer(2)">不同意</button>
                    <button class="btn-secondary" onclick="selectAnswer(3)">中立</button>
                    <button class="btn-secondary" onclick="selectAnswer(4)">同意</button>
                    <button class="btn-secondary" onclick="selectAnswer(5)">非常同意</button>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <button id="submitBtn" onclick="submitAssessment()" class="btn-primary hidden">
                    📊 查看结果
                </button>
            </div>
        </div>
    </div>

    <!-- 结果页面 -->
    <div id="resultPage" class="container hidden">
        <div class="card">
            <h2 class="text-3xl font-bold mb-6 text-center">🎉 你的街舞人格类型</h2>
            
            <div id="personalityResult" class="personality-card">
                <div class="text-center mb-6">
                    <h3 id="personalityName" class="text-2xl font-bold text-purple-300">分析中...</h3>
                    <p id="personalityNickname" class="text-lg text-gray-300 mt-4"></p>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">🎯 核心特征</h4>
                    <p id="personalityDescription" class="text-gray-300 mb-4"></p>
                    <div id="characteristicsTags" class="characteristics"></div>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">💪 你的优势</h4>
                    <div id="strengthsTags" class="characteristics"></div>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">🕺 推荐舞种</h4>
                    <div id="recommendedStyles" class="characteristics"></div>
                    <p id="styleExplanation" class="text-gray-300 mt-4"></p>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">👥 团队角色</h4>
                    <p><strong id="teamRole" class="text-purple-300"></strong></p>
                    <p id="teamRoleDescription" class="text-gray-300 mt-2"></p>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">🚀 发展建议</h4>
                    <div id="developmentSuggestions" class="characteristics"></div>
                </div>
                
                <div class="result-section">
                    <h4 class="text-xl font-bold mb-4">📊 维度分析</h4>
                    <div id="dimensionScores"></div>
                </div>
                
                <div class="result-section text-center">
                    <p class="text-gray-300 mb-4">匹配度: <span id="matchScore" class="text-purple-300 font-bold">85%</span></p>
                    <p class="text-gray-300">置信度: <span id="confidence" class="text-purple-300 font-bold">78%</span></p>
                </div>
            </div>
            
            <div class="text-center mt-6">
                <button onclick="restartAssessment()" class="btn-primary">
                    🔄 重新测评
                </button>
                <button onclick="shareResult()" class="btn-primary" style="background: linear-gradient(135deg, #10B981, #059669);">
                    📤 分享结果
                </button>
            </div>
        </div>
    </div>

    <script>
        // 完整的62道题目数据
        const questions = [
            // OPENNESS 开放性 (12题)
            { id: '1', content: '在Cypher中，我更喜欢尝试从未做过的新动作，即使可能失败', category: 'CYPHER_INTERACTION', dimension: 'OPENNESS', isReverse: false, scenarioType: 'CYPHER' },
            { id: '2', content: '我经常会想象如何将不同舞种的元素融合在一起', category: 'CREATIVE_EXPRESSION', dimension: 'OPENNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '3', content: '听到新的音乐类型时，我会立刻想到如何用舞蹈来表达', category: 'MUSIC_SENSITIVITY', dimension: 'OPENNESS', isReverse: false, scenarioType: 'LEARNING' },
            { id: '4', content: '我更愿意学习经典的、已经被验证的舞蹈动作', category: 'LEARNING_STYLE', dimension: 'OPENNESS', isReverse: true, scenarioType: 'LEARNING' },
            { id: '5', content: '在Battle中，我会尝试一些从未在公开场合展示过的动作', category: 'BATTLE_PERFORMANCE', dimension: 'OPENNESS', isReverse: false, scenarioType: 'BATTLE' },
            { id: '6', content: '我认为街舞应该保持传统，不需要太多创新', category: 'CREATIVE_EXPRESSION', dimension: 'OPENNESS', isReverse: true, scenarioType: 'SOCIAL' },
            { id: '7', content: '我喜欢探索不同文化背景的舞蹈风格', category: 'LEARNING_STYLE', dimension: 'OPENNESS', isReverse: false, scenarioType: 'LEARNING' },
            { id: '8', content: '我更喜欢在熟悉的音乐下跳舞，这样更有安全感', category: 'MUSIC_SENSITIVITY', dimension: 'OPENNESS', isReverse: true, scenarioType: 'PRACTICE' },
            { id: '9', content: '我经常会想象如何改进现有的舞蹈动作', category: 'CREATIVE_EXPRESSION', dimension: 'OPENNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '10', content: '在团队编舞时，我更倾向于使用大家都熟悉的动作', category: 'TEAM_COLLABORATION', dimension: 'OPENNESS', isReverse: true, scenarioType: 'PERFORMANCE' },
            { id: '11', content: '我喜欢尝试将街舞与其他艺术形式结合', category: 'CREATIVE_EXPRESSION', dimension: 'OPENNESS', isReverse: false, scenarioType: 'PERFORMANCE' },
            { id: '12', content: '我认为每种舞蹈风格都应该保持其原有的纯粹性', category: 'LEARNING_STYLE', dimension: 'OPENNESS', isReverse: true, scenarioType: 'SOCIAL' },

            // CONSCIENTIOUSNESS 尽责性 (12题)
            { id: '13', content: '我会制定详细的练习计划并严格执行', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '14', content: '在学习新动作时，我会反复练习直到完全掌握', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '15', content: '我经常因为练习而忘记时间', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '16', content: '我更喜欢随性的练习，不喜欢被计划束缚', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: true, scenarioType: 'PRACTICE' },
            { id: '17', content: '在团队排练中，我总是准时到达并做好准备', category: 'TEAM_COLLABORATION', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PERFORMANCE' },
            { id: '18', content: '我会仔细分析自己的舞蹈视频，找出需要改进的地方', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '19', content: '我经常会因为一个动作不够完美而重复练习很多遍', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '20', content: '我觉得差不多就行了，不需要追求完美', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: true, scenarioType: 'PRACTICE' },
            { id: '21', content: '在Battle前，我会充分准备和练习', category: 'BATTLE_PERFORMANCE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'BATTLE' },
            { id: '22', content: '我会记录自己的练习进度和改进点', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '23', content: '我更喜欢即兴发挥，不喜欢过度准备', category: 'BATTLE_PERFORMANCE', dimension: 'CONSCIENTIOUSNESS', isReverse: true, scenarioType: 'BATTLE' },
            { id: '24', content: '我会设定明确的舞蹈学习目标', category: 'LEARNING_STYLE', dimension: 'CONSCIENTIOUSNESS', isReverse: false, scenarioType: 'LEARNING' },

            // EXTRAVERSION 外向性 (13题)
            { id: '25', content: '在Cypher中，我喜欢第一个进圈跳舞', category: 'CYPHER_INTERACTION', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'CYPHER' },
            { id: '26', content: '我享受在众人面前表演的感觉', category: 'BATTLE_PERFORMANCE', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'PERFORMANCE' },
            { id: '27', content: '我更喜欢独自练习，不喜欢被人观看', category: 'LEARNING_STYLE', dimension: 'EXTRAVERSION', isReverse: true, scenarioType: 'PRACTICE' },
            { id: '28', content: '在Battle中，我会主动挑战更强的对手', category: 'BATTLE_PERFORMANCE', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'BATTLE' },
            { id: '29', content: '我喜欢与其他舞者交流和分享经验', category: 'TEAM_COLLABORATION', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'SOCIAL' },
            { id: '30', content: '在团队中，我更愿意做幕后工作', category: 'TEAM_COLLABORATION', dimension: 'EXTRAVERSION', isReverse: true, scenarioType: 'PERFORMANCE' },
            { id: '31', content: '我经常主动组织舞蹈活动或聚会', category: 'TEAM_COLLABORATION', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'SOCIAL' },
            { id: '32', content: '我在大型活动中会感到紧张和不自在', category: 'BATTLE_PERFORMANCE', dimension: 'EXTRAVERSION', isReverse: true, scenarioType: 'PERFORMANCE' },
            { id: '33', content: '我喜欢成为团队的焦点和中心', category: 'TEAM_COLLABORATION', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'PERFORMANCE' },
            { id: '34', content: '我更喜欢小规模的舞蹈聚会', category: 'CYPHER_INTERACTION', dimension: 'EXTRAVERSION', isReverse: true, scenarioType: 'SOCIAL' },
            { id: '35', content: '我会主动邀请新人加入我们的舞蹈圈子', category: 'TEAM_COLLABORATION', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'SOCIAL' },
            { id: '36', content: '在Cypher中，我更喜欢观看别人跳舞', category: 'CYPHER_INTERACTION', dimension: 'EXTRAVERSION', isReverse: true, scenarioType: 'CYPHER' },
            { id: '37', content: '我享受与观众的互动和反馈', category: 'BATTLE_PERFORMANCE', dimension: 'EXTRAVERSION', isReverse: false, scenarioType: 'PERFORMANCE' },

            // AGREEABLENESS 宜人性 (12题)
            { id: '38', content: '在Cypher中，我会鼓励和支持其他舞者', category: 'CYPHER_INTERACTION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'CYPHER' },
            { id: '39', content: '我认为在Battle中使用心理战术是必要的', category: 'BATTLE_PERFORMANCE', dimension: 'AGREEABLENESS', isReverse: true, scenarioType: 'BATTLE' },
            { id: '40', content: '我喜欢帮助新手学习舞蹈', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'LEARNING' },
            { id: '41', content: '在团队编舞中，我更关注整体效果而不是个人表现', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'PERFORMANCE' },
            { id: '42', content: '我认为每个人都应该争取更多的表演机会', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: true, scenarioType: 'PERFORMANCE' },
            { id: '43', content: '我会主动分享自己的舞蹈技巧和经验', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'LEARNING' },
            { id: '44', content: '在发生冲突时，我倾向于寻求和解', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'SOCIAL' },
            { id: '45', content: '我认为竞争比合作更重要', category: 'BATTLE_PERFORMANCE', dimension: 'AGREEABLENESS', isReverse: true, scenarioType: 'BATTLE' },
            { id: '46', content: '我会考虑其他团队成员的感受和想法', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'PERFORMANCE' },
            { id: '47', content: '我更愿意让别人先展示，自己后上', category: 'CYPHER_INTERACTION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'CYPHER' },
            { id: '48', content: '我认为保护自己的独特技巧很重要', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: true, scenarioType: 'LEARNING' },
            { id: '49', content: '我喜欢创造和谐的团队氛围', category: 'TEAM_COLLABORATION', dimension: 'AGREEABLENESS', isReverse: false, scenarioType: 'SOCIAL' },

            // NEUROTICISM 神经质 (13题)
            { id: '50', content: '在重要的Battle前，我会感到非常紧张', category: 'BATTLE_PERFORMANCE', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'BATTLE' },
            { id: '51', content: '即使在压力下，我也能保持冷静', category: 'BATTLE_PERFORMANCE', dimension: 'NEUROTICISM', isReverse: true, scenarioType: 'BATTLE' },
            { id: '52', content: '当我的动作出错时，我会很长时间都在想这件事', category: 'LEARNING_STYLE', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '53', content: '我很容易从失败中恢复过来', category: 'BATTLE_PERFORMANCE', dimension: 'NEUROTICISM', isReverse: true, scenarioType: 'BATTLE' },
            { id: '54', content: '当别人批评我的舞蹈时，我会感到很沮丧', category: 'TEAM_COLLABORATION', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'LEARNING' },
            { id: '55', content: '我能够很好地处理表演中的突发状况', category: 'BATTLE_PERFORMANCE', dimension: 'NEUROTICISM', isReverse: true, scenarioType: 'PERFORMANCE' },
            { id: '56', content: '我经常担心自己的舞蹈水平不够好', category: 'LEARNING_STYLE', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '57', content: '我对自己的舞蹈能力很有信心', category: 'BATTLE_PERFORMANCE', dimension: 'NEUROTICISM', isReverse: true, scenarioType: 'PERFORMANCE' },
            { id: '58', content: '当音乐突然变化时，我会感到慌乱', category: 'MUSIC_SENSITIVITY', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'CYPHER' },
            { id: '59', content: '我能够很好地适应不同的音乐风格', category: 'MUSIC_SENSITIVITY', dimension: 'NEUROTICISM', isReverse: true, scenarioType: 'CYPHER' },
            { id: '60', content: '我经常因为练习不够而感到焦虑', category: 'LEARNING_STYLE', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'PRACTICE' },
            { id: '61', content: '我很少因为舞蹈相关的事情而感到压力', category: 'LEARNING_STYLE', dimension: 'NEUROTICISM', isReverse: true, scenarioType: 'PRACTICE' },
            { id: '62', content: '在团队表演中，我担心自己会拖累整个团队', category: 'TEAM_COLLABORATION', dimension: 'NEUROTICISM', isReverse: false, scenarioType: 'PERFORMANCE' }
        ];

        // 完整的6种人格类型数据
        const personalityTypes = [
            {
                id: 'freestyle_poet',
                name: '即兴诗人',
                nickname: 'The Freestyle Poet',
                description: '你是街舞世界的诗人，用身体书写情感的篇章。每一个动作都充满了个人色彩，你的舞蹈就像即兴的诗歌，自然流畅，充满创意和表达力。',
                characteristics: ['创意无限', '情感丰富', '表达力强', '个性鲜明', '艺术敏感'],
                strengths: ['创造力', '表达能力', '艺术感知', '情感传达', '个人风格'],
                recommendedStyles: ['FREESTYLE', 'CONTEMPORARY', 'HIPHOP'],
                developmentSuggestions: ['参加创作比赛', '学习音乐理论', '发展个人风格', '记录创作过程'],
                teamRole: '创意核心',
                teamRoleDescription: '你是团队的创意源泉，能够为团队带来独特的想法和创新的表达方式。',
                styleExplanation: '这些舞种给你充分的自由发挥空间，让你的创意和情感得到最好的表达。',
                colorScheme: { primary: '#8B5CF6', secondary: '#EC4899', accent: '#06B6D4' }
            },
            {
                id: 'code_player',
                name: '暗号玩家',
                nickname: 'The Code Player',
                description: '你是街舞世界的密码破译专家，对音乐有着超乎常人的敏感度。你能听懂音乐中最细微的变化，并用精准的动作来回应每一个节拍和旋律。',
                characteristics: ['音乐敏感度高', '节奏感强', '技术精湛', '注重细节', '专业严谨'],
                strengths: ['音乐理解', '技术控制', '精准表达', '专业素养', '持续改进'],
                recommendedStyles: ['POPPING', 'LOCKING', 'ANIMATION'],
                developmentSuggestions: ['深入学习音乐理论', '练习复杂节奏', '研究舞蹈历史', '参与技术交流'],
                teamRole: '技术专家',
                teamRoleDescription: '你是团队的技术支柱，能够确保动作的精准度和音乐的完美配合。',
                styleExplanation: '这些舞种需要精确的技术控制和对音乐的深度理解，完美匹配你的特质。',
                colorScheme: { primary: '#3B82F6', secondary: '#1D4ED8', accent: '#F59E0B' }
            },
            {
                id: 'energy_transmitter',
                name: '能量传递者',
                nickname: 'The Energy Transmitter',
                description: '拥有强大的感染力，能够将自己的热情和能量传递给周围的每一个人。你的舞蹈就像电流，点燃整个舞池，让每个人都感受到街舞的魅力和激情。',
                characteristics: ['感染力极强', '热情洋溢', '善于激励他人', '舞台表现力强', '正能量满满'],
                strengths: ['感染力', '表现力', '激励能力', '团队凝聚', '正面影响'],
                recommendedStyles: ['HIPHOP', 'KRUMP', 'HOUSE'],
                developmentSuggestions: ['参与更多表演', '发展领导能力', '组织社区活动', '传播街舞文化'],
                teamRole: '团队领袖',
                teamRoleDescription: '你天生具备领导气质，能够激励团队成员，营造积极向上的团队氛围。',
                styleExplanation: '这些舞种充满能量和表现力，能够让你的感染力得到最大程度的发挥。',
                colorScheme: { primary: '#EF4444', secondary: '#F59E0B', accent: '#10B981' }
            },
            {
                id: 'silent_observer',
                name: '静默观察家',
                nickname: 'The Silent Observer',
                description: '善于观察和分析，虽然不常表达但内心世界丰富。你的舞蹈充满了深度和内涵，每个动作都经过深思熟虑，是街舞世界的哲学家。',
                characteristics: ['观察力敏锐', '分析能力强', '内心世界丰富', '思考深入', '表达含蓄'],
                strengths: ['深度思考', '精准分析', '内在力量', '独特视角', '稳定发挥'],
                recommendedStyles: ['ANIMATION', 'ROBOT', 'POPPING'],
                developmentSuggestions: ['增加表达机会', '参与小组活动', '分享观察心得', '发展个人风格'],
                teamRole: '策略顾问',
                teamRoleDescription: '你是团队的智囊，能够提供深刻的洞察和分析，帮助团队做出明智的决策。',
                styleExplanation: '这些舞种注重细节和控制，能够充分展现你的观察力和分析能力。',
                colorScheme: { primary: '#6B7280', secondary: '#3B82F6', accent: '#F59E0B' }
            },
            {
                id: 'team_glue',
                name: '团队粘合剂',
                nickname: 'The Team Glue',
                description: '天生的团队协调者，善于将不同的个性和风格融合在一起。你是团队的核心，让每个人都能发挥出最好的水平，创造和谐的合作氛围。',
                characteristics: ['协调能力强', '善于合作', '包容性强', '沟通能力好', '团队意识强'],
                strengths: ['团队协作', '沟通协调', '包容理解', '冲突解决', '集体荣誉'],
                recommendedStyles: ['HOUSE', 'HIPHOP', 'LOCKING'],
                developmentSuggestions: ['发展领导技能', '学习团队管理', '组织团队活动', '培养新人'],
                teamRole: '协调者',
                teamRoleDescription: '你是团队的润滑剂，能够化解矛盾，促进合作，让团队更加团结。',
                styleExplanation: '这些舞种强调团队配合和互动，非常适合你的协调天赋。',
                colorScheme: { primary: '#10B981', secondary: '#3B82F6', accent: '#F59E0B' }
            },
            {
                id: 'stage_conqueror',
                name: '舞台征服者',
                nickname: 'The Stage Conqueror',
                description: '天生的表演者，在舞台上光芒四射。你拥有强大的舞台魅力，能够征服任何观众的心，是街舞世界的超级巨星。',
                characteristics: ['舞台表现力强', '自信满满', '魅力四射', '善于表演', '竞争意识强'],
                strengths: ['舞台魅力', '表演能力', '自信心', '竞争力', '观众缘'],
                recommendedStyles: ['BREAKING', 'KRUMP', 'VOGUING'],
                developmentSuggestions: ['参加更多比赛', '发展表演技巧', '学习舞台艺术', '培养个人品牌'],
                teamRole: '明星表演者',
                teamRoleDescription: '你是团队的门面和焦点，能够在关键时刻挺身而出，展现团队的实力。',
                styleExplanation: '这些舞种具有强烈的表演性和竞技性，能够充分展现你的舞台魅力。',
                colorScheme: { primary: '#F59E0B', secondary: '#EF4444', accent: '#8B5CF6' }
            }
        ];

        // 全局变量
        let currentQuestionIndex = 0;
        let answers = [];
        let personalityResult = null;

        // 开始测评
        function startAssessment() {
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('assessmentPage').classList.remove('hidden');
            showQuestion();
        }

        // 显示题目
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            document.getElementById('questionText').textContent = question.content;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // 清除之前的选择状态
            const buttons = document.querySelectorAll('.options .btn-secondary');
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            if (currentQuestionIndex === questions.length - 1) {
                document.getElementById('submitBtn').classList.remove('hidden');
            }
        }

        // 选择答案
        function selectAnswer(score) {
            answers[currentQuestionIndex] = score;
            
            // 更新按钮状态
            const buttons = document.querySelectorAll('.options .btn-secondary');
            buttons.forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === score - 1) {
                    btn.classList.add('selected');
                }
            });
            
            // 延迟跳转到下一题
            setTimeout(() => {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    showQuestion();
                }
            }, 500);
        }

        // 分析答案
        function analyzeAnswers() {
            const dimensions = {
                openness: 0,
                conscientiousness: 0,
                extraversion: 0,
                agreeableness: 0,
                neuroticism: 0
            };

            const dimensionCounts = {
                openness: 0,
                conscientiousness: 0,
                extraversion: 0,
                agreeableness: 0,
                neuroticism: 0
            };

            questions.forEach((question, index) => {
                const answer = answers[index] || 3;
                const score = question.isReverse ? (6 - answer) : answer;
                
                switch(question.dimension) {
                    case 'OPENNESS':
                        dimensions.openness += score;
                        dimensionCounts.openness++;
                        break;
                    case 'CONSCIENTIOUSNESS':
                        dimensions.conscientiousness += score;
                        dimensionCounts.conscientiousness++;
                        break;
                    case 'EXTRAVERSION':
                        dimensions.extraversion += score;
                        dimensionCounts.extraversion++;
                        break;
                    case 'AGREEABLENESS':
                        dimensions.agreeableness += score;
                        dimensionCounts.agreeableness++;
                        break;
                    case 'NEUROTICISM':
                        dimensions.neuroticism += score;
                        dimensionCounts.neuroticism++;
                        break;
                }
            });

            // 标准化分数到0-100
            Object.keys(dimensions).forEach(key => {
                const maxScore = dimensionCounts[key] * 5;
                dimensions[key] = Math.round((dimensions[key] / maxScore) * 100);
            });

            return dimensions;
        }

        // 智能人格类型匹配
        function findBestPersonalityMatch(userScores) {
            const typeProfiles = {
                'freestyle_poet': { openness: 90, conscientiousness: 50, extraversion: 70, agreeableness: 80, neuroticism: 40 },
                'code_player': { openness: 85, conscientiousness: 90, extraversion: 40, agreeableness: 60, neuroticism: 30 },
                'energy_transmitter': { openness: 75, conscientiousness: 70, extraversion: 95, agreeableness: 85, neuroticism: 20 },
                'silent_observer': { openness: 80, conscientiousness: 80, extraversion: 30, agreeableness: 70, neuroticism: 40 },
                'team_glue': { openness: 70, conscientiousness: 80, extraversion: 75, agreeableness: 95, neuroticism: 25 },
                'stage_conqueror': { openness: 75, conscientiousness: 70, extraversion: 95, agreeableness: 50, neuroticism: 30 }
            };
            
            let bestMatch = null;
            let bestScore = -1;
            
            personalityTypes.forEach(type => {
                const profile = typeProfiles[type.id];
                if (!profile) return;
                
                let totalDifference = 0;
                let weightSum = 0;
                
                Object.keys(profile).forEach(dimension => {
                    const userScore = userScores[dimension] || 50;
                    const typeScore = profile[dimension];
                    const weight = typeScore / 100;
                    
                    const difference = Math.abs(userScore - typeScore);
                    totalDifference += difference * weight;
                    weightSum += weight;
                });
                
                const averageDifference = totalDifference / weightSum;
                const matchScore = Math.max(0, 100 - averageDifference);
                
                if (matchScore > bestScore) {
                    bestScore = matchScore;
                    bestMatch = {
                        type: type,
                        matchScore: Math.round(matchScore),
                        confidence: Math.round(Math.max(60, matchScore - Math.random() * 10))
                    };
                }
            });
            
            return bestMatch || {
                type: personalityTypes[0],
                matchScore: 75,
                confidence: 65
            };
        }

        // 提交测评
        function submitAssessment() {
            if (answers.length !== questions.length) {
                alert('请完成所有题目后再提交');
                return;
            }
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = '<span class="loading"></span> 分析中...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                const scores = analyzeAnswers();
                const bestMatch = findBestPersonalityMatch(scores);
                
                personalityResult = {
                    personalityType: bestMatch.type,
                    dimensionScores: scores,
                    matchScore: bestMatch.matchScore,
                    confidence: bestMatch.confidence
                };
                
                showResult();
            }, 2000);
        }

        // 显示结果
        function showResult() {
            document.getElementById('assessmentPage').classList.add('hidden');
            document.getElementById('resultPage').classList.remove('hidden');
            
            const result = personalityResult;
            const type = result.personalityType;
            
            document.getElementById('personalityName').textContent = type.name;
            document.getElementById('personalityNickname').textContent = type.nickname;
            document.getElementById('personalityDescription').textContent = type.description;
            document.getElementById('teamRole').textContent = type.teamRole;
            document.getElementById('teamRoleDescription').textContent = type.teamRoleDescription;
            document.getElementById('styleExplanation').textContent = type.styleExplanation;
            document.getElementById('matchScore').textContent = result.matchScore + '%';
            document.getElementById('confidence').textContent = result.confidence + '%';
            
            // 显示特征标签
            const characteristicsContainer = document.getElementById('characteristicsTags');
            characteristicsContainer.innerHTML = '';
            type.characteristics.forEach(char => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = char;
                characteristicsContainer.appendChild(tag);
            });
            
            // 显示优势标签
            const strengthsContainer = document.getElementById('strengthsTags');
            strengthsContainer.innerHTML = '';
            type.strengths.forEach(strength => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = strength;
                strengthsContainer.appendChild(tag);
            });
            
            // 显示推荐舞种
            const stylesContainer = document.getElementById('recommendedStyles');
            stylesContainer.innerHTML = '';
            type.recommendedStyles.forEach(style => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = style;
                stylesContainer.appendChild(tag);
            });
            
            // 显示发展建议
            const suggestionsContainer = document.getElementById('developmentSuggestions');
            suggestionsContainer.innerHTML = '';
            type.developmentSuggestions.forEach(suggestion => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = suggestion;
                suggestionsContainer.appendChild(tag);
            });
            
            // 显示维度分析
            const dimensionsContainer = document.getElementById('dimensionScores');
            dimensionsContainer.innerHTML = '';
            const dimensionNames = {
                openness: '开放性',
                conscientiousness: '尽责性',
                extraversion: '外向性',
                agreeableness: '宜人性',
                neuroticism: '神经质'
            };
            
            Object.keys(result.dimensionScores).forEach(dimension => {
                const score = result.dimensionScores[dimension];
                const div = document.createElement('div');
                div.style.marginBottom = '12px';
                div.innerHTML = `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>${dimensionNames[dimension]}</span>
                        <span>${score}%</span>
                    </div>
                    <div style="background: rgba(75, 85, 99, 0.3); border-radius: 4px; height: 8px;">
                        <div style="background: linear-gradient(90deg, #8B5CF6, #EC4899); height: 100%; border-radius: 4px; width: ${score}%; transition: width 0.5s ease;"></div>
                    </div>
                `;
                dimensionsContainer.appendChild(div);
            });
        }

        // 分享结果
        function shareResult() {
            const result = personalityResult;
            const shareText = `我在街舞人格测评中是"${result.personalityType.name}"！\n\n${result.personalityType.description}\n\n快来测试你的街舞人格类型吧！`;
            
            if (navigator.share) {
                navigator.share({
                    title: '街舞人格测评结果',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // 复制到剪贴板
                navigator.clipboard.writeText(shareText + '\n\n' + window.location.href).then(() => {
                    alert('结果已复制到剪贴板！');
                });
            }
        }

        // 重新开始测评
        function restartAssessment() {
            document.getElementById('resultPage').classList.add('hidden');
            document.getElementById('homePage').classList.remove('hidden');
            currentQuestionIndex = 0;
            answers = [];
            personalityResult = null;
            
            // 重置提交按钮
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = '📊 查看结果';
            submitBtn.disabled = false;
            submitBtn.classList.add('hidden');
        }

        // 页面加载完成后的初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('街舞人格测评系统已加载完成！完整62道题版本');
        });
    </script>
</body>
</html>